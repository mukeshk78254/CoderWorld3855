/* LeetCode Style Page - Mobile Responsive CSS */

/* Mobile First Approach - Base styles for mobile */
@media (max-width: 1024px) {
    /* Main Container */
    .leetcode-container {
        display: flex;
        flex-direction: column !important;
        height: 100vh;
        overflow: hidden;
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        padding-top: 64px;
    }

    /* Left Panel - Problem Description */
    .leetcode-left-panel {
        width: 100% !important;
        height: 45vh !important;
        min-height: 250px;
        max-height: 45vh;
        overflow-y: auto;
        border-right: none !important;
        border-bottom: 3px solid #06b6d4;
        background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%);
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
    }

    /* Right Panel - Code Editor */
    .leetcode-right-panel {
        width: 100% !important;
        height: 55vh !important;
        display: flex;
        flex-direction: column;
        background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
        overflow: hidden;
    }

    /* Problem Description Content */
    .problem-description-content {
        padding: 1.25rem !important;
        font-size: 15px;
        background: rgba(15, 23, 42, 0.6);
        border-radius: 8px;
        margin: 0.75rem;
    }

    .problem-description-content h1 {
        font-size: 1.5rem !important;
        margin-bottom: 1rem !important;
        color: #06b6d4;
        border-bottom: 2px solid rgba(6, 182, 212, 0.3);
        padding-bottom: 0.5rem;
    }

    .problem-description-content h2 {
        font-size: 1.25rem !important;
        margin: 1rem 0 0.75rem 0 !important;
        color: #22d3ee;
    }

    .problem-description-content p {
        font-size: 0.95rem !important;
        line-height: 1.7;
        margin-bottom: 1rem !important;
        color: #e2e8f0;
    }

    .problem-description-content pre {
        font-size: 0.9rem !important;
        overflow-x: auto;
        padding: 1rem !important;
        margin: 0.75rem 0 !important;
        background: rgba(0, 0, 0, 0.4) !important;
        border-left: 3px solid #06b6d4;
        border-radius: 6px;
    }

    /* Tabs Container */
    .tabs-container {
        display: flex;
        overflow-x: auto;
        white-space: nowrap;
        -webkit-overflow-scrolling: touch;
        scrollbar-width: thin;
        padding: 0.75rem 0.75rem 0;
        background: rgba(15, 23, 42, 0.8);
        border-bottom: 1px solid rgba(6, 182, 212, 0.2);
        gap: 0.5rem;
    }

    .tabs-container::-webkit-scrollbar {
        height: 3px;
    }

    .tabs-container::-webkit-scrollbar-thumb {
        background: #06b6d4;
        border-radius: 2px;
    }

    /* Tab Buttons */
    .tab-button {
        padding: 0.7rem 1.3rem !important;
        font-size: 0.9rem !important;
        min-width: fit-content;
        flex-shrink: 0;
        font-weight: 600;
        border-radius: 8px 8px 0 0;
        background: rgba(6, 182, 212, 0.1);
        border: 1px solid transparent;
    }

    .tab-button:hover,
    .tab-button.tab-active {
        background: rgba(6, 182, 212, 0.2);
        border-color: #06b6d4;
    }

    /* Code Editor Container */
    .monaco-editor-container {
        height: 320px !important;
        min-height: 250px !important;
        flex-grow: 1;
        border: 2px solid rgba(6, 182, 212, 0.3);
        border-radius: 8px;
        overflow: hidden;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4);
        margin: 0.75rem;
    }

    /* Language Selector */
    .language-selector-container {
        padding: 1rem 1rem;
        display: flex;
        justify-content: space-between;
        align-items: center;
        flex-wrap: wrap;
        gap: 1rem;
        background: rgba(15, 23, 42, 0.8);
        border-bottom: 1px solid rgba(6, 182, 212, 0.2);
    }

    .language-selector {
        font-size: 0.95rem !important;
        padding: 0.6rem 1.2rem !important;
        background: rgba(6, 182, 212, 0.1) !important;
        border: 1px solid #06b6d4 !important;
        border-radius: 6px;
        color: white !important;
        font-weight: 500;
    }

    /* Font Size Controls */
    .font-size-controls {
        display: flex;
        gap: 0.5rem;
        align-items: center;
    }

    .font-size-btn {
        padding: 0.4rem 0.6rem !important;
        font-size: 0.85rem !important;
    }

    /* Test Cases Section */
    .test-cases-section {
        max-height: 250px !important;
        overflow-y: auto;
        padding: 1rem !important;
        background: rgba(15, 23, 42, 0.6);
        border-radius: 8px;
        margin: 0 0.75rem 0.75rem;
        border: 1px solid rgba(6, 182, 212, 0.2);
    }

    .test-case-tabs {
        display: flex;
        gap: 0.75rem;
        overflow-x: auto;
        -webkit-overflow-scrolling: touch;
        padding-bottom: 0.75rem;
        margin-bottom: 0.75rem;
        border-bottom: 1px solid rgba(6, 182, 212, 0.2);
    }

    .test-case-tab {
        padding: 0.6rem 1.2rem !important;
        font-size: 0.9rem !important;
        min-width: fit-content;
        flex-shrink: 0;
        font-weight: 600;
        background: rgba(6, 182, 212, 0.1);
        border: 1px solid transparent;
        border-radius: 6px;
    }

    .test-case-tab.active {
        background: rgba(6, 182, 212, 0.2);
        border-color: #06b6d4;
    }

    .test-case-content {
        font-size: 0.95rem !important;
        padding: 0.75rem !important;
        line-height: 1.6;
        background: rgba(0, 0, 0, 0.3);
        border-radius: 6px;
    }

    /* Action Buttons */
    .action-buttons-container {
        padding: 1rem 1rem 1.25rem !important;
        display: flex;
        gap: 1rem;
        flex-wrap: wrap;
        background: rgba(15, 23, 42, 0.8);
        border-top: 1px solid rgba(6, 182, 212, 0.2);
    }

    .action-button {
        padding: 0.8rem 1.5rem !important;
        font-size: 1rem !important;
        flex: 1;
        min-width: 140px;
        font-weight: 600;
        border-radius: 8px;
        background: linear-gradient(135deg, #06b6d4 0%, #0891b2 100%);
        border: none;
        box-shadow: 0 4px 8px rgba(6, 182, 212, 0.3);
        transition: all 0.3s ease;
    }

    .action-button:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 12px rgba(6, 182, 212, 0.4);
    }

    .action-button:active {
        transform: translateY(0);
    }

    /* Results Panel */
    .results-panel {
        padding: 1rem !important;
        font-size: 0.85rem !important;
        max-height: 200px;
        overflow-y: auto;
    }

    /* Submission History */
    .submission-history-mobile {
        max-height: 300px !important;
        overflow-y: auto;
    }

    .submission-item {
        font-size: 0.85rem !important;
        padding: 0.75rem !important;
    }

    /* Editorial Content */
    .editorial-content {
        padding: 1rem !important;
        font-size: 0.9rem !important;
    }

    .editorial-content h3 {
        font-size: 1rem !important;
    }

    .editorial-content pre {
        font-size: 0.8rem !important;
        overflow-x: auto;
    }

    /* Discussion */
    .discussion-container {
        padding: 1rem !important;
    }

    .discussion-post {
        font-size: 0.85rem !important;
        padding: 0.75rem !important;
    }

    /* Modal Adjustments */
    .modal-content-mobile {
        width: 95vw !important;
        max-width: 100% !important;
        margin: 1rem !important;
    }

    /* Hide unnecessary elements on mobile */
    .hide-on-mobile {
        display: none !important;
    }

    /* Problem List Dropdown */
    .problem-list-dropdown {
        max-height: 60vh !important;
        overflow-y: auto;
    }

    .problem-list-item {
        padding: 0.75rem !important;
        font-size: 0.85rem !important;
    }
}

/* Tablet adjustments */
@media (min-width: 768px) and (max-width: 1024px) {
    .leetcode-left-panel {
        height: 45vh !important;
    }

    .leetcode-right-panel {
        height: 55vh !important;
    }

    .monaco-editor-container {
        height: 300px !important;
    }

    .problem-description-content {
        padding: 1.5rem !important;
        font-size: 15px;
    }
}

/* Small mobile phones */
@media (max-width: 640px) {
    .leetcode-left-panel {
        height: 42vh !important;
        min-height: 220px !important;
    }

    .leetcode-right-panel {
        height: 58vh !important;
    }

    .monaco-editor-container {
        height: 280px !important;
        min-height: 220px !important;
    }

    .action-button {
        font-size: 0.95rem !important;
        padding: 0.7rem 1.2rem !important;
        min-width: 120px;
    }

    .problem-description-content {
        padding: 1rem !important;
        font-size: 14.5px;
        margin: 0.5rem;
    }

    .problem-description-content h1 {
        font-size: 1.35rem !important;
    }

    .problem-description-content h2 {
        font-size: 1.15rem !important;
    }

    .test-cases-section {
        max-height: 200px !important;
        margin: 0 0.5rem 0.5rem;
    }

    /* Make tabs scrollable with better spacing */
    .tabs-container {
        padding: 0.5rem 0.75rem 0;
    }
    
    /* Improve touch targets on small screens */
    .tab-button,
    .test-case-tab {
        padding: 0.6rem 1rem !important;
    }

    /* Reduce spacing for small screens */
    .language-selector-container {
        padding: 0.75rem 0.75rem;
    }

    .action-buttons-container {
        padding: 0.75rem 0.75rem 1rem !important;
    }
}

/* Landscape mode on mobile */
@media (max-height: 500px) and (orientation: landscape) {
    .leetcode-container {
        padding-top: 60px;
    }

    .leetcode-left-panel {
        height: 180px !important;
        min-height: 150px !important;
        max-height: 180px;
    }

    .leetcode-right-panel {
        height: calc(100vh - 240px) !important;
    }

    .monaco-editor-container {
        height: 280px !important;
        min-height: 220px !important;
        margin: 0.5rem;
    }

    /* Reduce padding in landscape to maximize space */
    .problem-description-content {
        padding: 0.75rem !important;
        margin: 0.5rem;
    }

    .action-buttons-container {
        padding: 0.75rem 0.75rem !important;
        gap: 0.5rem;
    }

    .action-button {
        padding: 0.6rem 1rem !important;
        font-size: 0.85rem !important;
        min-width: 110px;
    }

    /* Make tabs more compact */
    .tabs-container {
        padding: 0.5rem 0.5rem 0;
    }

    .tab-button {
        padding: 0.5rem 0.9rem !important;
        font-size: 0.85rem !important;
    }

    .test-cases-section {
        max-height: 150px !important;
        margin: 0 0.5rem 0.5rem;
    }
}

/* Ensure smooth scrolling */
.leetcode-container,
.leetcode-left-panel,
.leetcode-right-panel,
.test-cases-section {
    -webkit-overflow-scrolling: touch;
    scroll-behavior: smooth;
}

/* Prevent text selection on buttons during touch */
.action-button,
.tab-button,
.test-case-tab {
    -webkit-tap-highlight-color: transparent;
    user-select: none;
}

/* Better touch targets */
@media (max-width: 1024px) {
    button, a, .clickable {
        min-height: 44px;
        min-width: 44px;
    }

    /* Improve readability with better line spacing */
    p, li, pre {
        line-height: 1.6 !important;
    }

    /* Better code block scrolling */
    pre {
        overflow-x: auto !important;
        -webkit-overflow-scrolling: touch;
        max-width: 100%;
    }

    /* Prevent horizontal scroll on main container */
    .leetcode-container {
        overflow-x: hidden !important;
    }

    /* Better spacing for lists */
    ul, ol {
        padding-left: 1.5rem !important;
        margin: 0.5rem 0 !important;
    }

    li {
        margin: 0.25rem 0 !important;
    }

    /* Improve code examples visibility */
    code {
        padding: 0.2rem 0.4rem;
        background: rgba(255, 255, 255, 0.1);
        border-radius: 3px;
        font-size: 0.9em;
    }

    /* Better visibility for constraints and examples */
    .problem-description-content strong {
        color: #06b6d4;
        font-weight: 700;
        font-size: 1.05em;
    }

    /* Smooth transitions for interactive elements */
    button, .tab-button, .test-case-tab, .action-button {
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }

    /* Prevent text overflow */
    * {
        word-wrap: break-word;
        overflow-wrap: break-word;
    }

    /* Add visual separation for sections */
    .leetcode-left-panel > *:not(:last-child),
    .leetcode-right-panel > *:not(:last-child) {
        position: relative;
    }

    /* Improve scrollbar styling for mobile */
    .leetcode-left-panel::-webkit-scrollbar,
    .test-cases-section::-webkit-scrollbar {
        width: 6px;
    }

    .leetcode-left-panel::-webkit-scrollbar-thumb,
    .test-cases-section::-webkit-scrollbar-thumb {
        background: #06b6d4;
        border-radius: 3px;
    }

    .leetcode-left-panel::-webkit-scrollbar-track,
    .test-cases-section::-webkit-scrollbar-track {
        background: rgba(15, 23, 42, 0.5);
    }

    /* Better focus states for accessibility */
    button:focus,
    select:focus,
    .tab-button:focus,
    .test-case-tab:focus {
        outline: 2px solid #06b6d4;
        outline-offset: 2px;
    }

    /* Add subtle animations */
    .problem-description-content,
    .monaco-editor-container,
    .test-cases-section {
        animation: slideInUp 0.4s ease-out;
    }

    @keyframes slideInUp {
        from {
            opacity: 0;
            transform: translateY(20px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }
}
